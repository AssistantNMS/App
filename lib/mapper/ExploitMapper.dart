import '../contracts/exploit.dart';
import '../contracts/exploitBase.dart';
import '../contracts/exploitDetail.dart';
import '../helpers/sortHelper.dart';

List<Exploit> mapExploits(
    List<ExploitBase> exploits, List<ExploitDetail> details) {
  List<Exploit> result = List.empty(growable: true);
  for (var exploit in exploits) {
    for (var detail in details) {
      if (exploit.id == detail.id) {
        result.add(Exploit.fromBaseWithDetails(exploit, detail));
      }
    }
  }
  result.sort((a, b) =>
      (boolToInt(a.isPatchedOut).compareTo(boolToInt(b.isPatchedOut)) * 5) +
      a.sort.compareTo(b.sort));
  return result;
}
