import 'package:assistantapps_flutter_common/assistantapps_flutter_common.dart';
import 'package:flutter/material.dart';

import '../../contracts/exploitDetailTileItem.dart';
import '../../pages/exploits/exploitDetailsPage.dart';

Widget exploitDetailsTilePresenter(
    BuildContext context, ExploitDetailTileItem details) {
  if (details.isPatchedOut) {
    return wrapInNewBanner(
      context,
      LocaleKey.patched,
      genericListTile(
        context,
        leadingImage: details.icon,
        name: details.shortDescription,
        onTap: () async => await getNavigation().navigateAsync(context,
            navigateTo: (context) => ExploitDetailsPage(details)),
      ),
    );
  }

  return genericListTile(
    context,
    leadingImage: details.icon,
    name: details.shortDescription,
    onTap: () async => await getNavigation().navigateAsync(context,
        navigateTo: (context) => ExploitDetailsPage(details)),
  );
}

Widget profCynicalTilePresenter(BuildContext context) {
  return genericListTileWithNetworkImage(
    context,
    imageUrl:
        'https://yt3.ggpht.com/a/AGF-l79t9L7FdtgFMlZHpLO2J-fWgsI-87oMaHvd4A=s288-c-k-c0xffffffff-no-rj-mo',
    name: 'Professor Cynical',
    subtitle: Text(
      'An amazing resource for NMS Exploits',
      maxLines: 1,
      overflow: TextOverflow.ellipsis,
    ),
    onTap: () => launchExternalURL(
        'https://www.youtube.com/channel/UCJAyNFlzJDkU4ebLXT6uByQ'),
  );
}
